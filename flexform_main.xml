<?xml version="1.0" encoding="utf-8" standalone="yes" ?>

<T3DataStructure>
	<meta>
		<langDisable>1</langDisable>
	</meta>
  <sheets>
    <sDEF>
      <ROOT>
        <TCEforms>
          <sheetTitle>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.tab.action</sheetTitle>
        </TCEforms>

        <type>array</type>
        <el>
    
          <action> <!-- Bezeichner ist frei wählbar -->
            <TCEforms>
              <exclude>1</exclude>
              <label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.tab.action</label>
              <config>
                <type>select</type>
                <items type="array">
                  <numIndex index="0" type="array">
                    <numIndex index="0">LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.action.searchLucene</numIndex>
                    <numIndex index="1">tx_mksearch_action_Search</numIndex>
                  </numIndex>
                  <numIndex index="10" type="array">
                    <numIndex index="0">LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.action.searchSolr</numIndex>
                    <numIndex index="1">tx_mksearch_action_SearchSolr</numIndex>
                  </numIndex>
                </items>
                <multiple>0</multiple>
                <maxitems>10</maxitems>
                <size>10</size>
              </config>
            </TCEforms>
          </action>

          <usedIndex>
            <TCEforms>
              <exclude>1</exclude>
              <label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.usedIndex</label>
              <config>
                <type>select</type>
                <foreign_table>tx_mksearch_indices</foreign_table>
                <foreign_table_where>AND engine='zend_lucene' ORDER BY name</foreign_table_where>
                <multiple>0</multiple>
                <maxitems>1</maxitems>
                <size>1</size>
              </config>
            </TCEforms>
          </usedIndex>

        </el>
      </ROOT>
    </sDEF>
	<s_searchsolr>
		<ROOT>
			<TCEforms>
				<sheetTitle>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.action.searchSolr</sheetTitle>
			</TCEforms>
			<type>array</type>
			<el>
				<searchsolr.usedIndex>
					<TCEforms>
						<exclude>1</exclude>
						<label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.usedIndex</label>
						<config>
							<type>select</type>
							<foreign_table>tx_mksearch_indices</foreign_table>
							<foreign_table_where>AND engine='solr' ORDER BY name</foreign_table_where>
							<multiple>0</multiple>
							<maxitems>1</maxitems>
							<size>1</size>
						</config>
					</TCEforms>
				</searchsolr.usedIndex>
				<searchsolr.filter.confid>
					<TCEforms>
						<exclude>1</exclude>
						<label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.filter.confid</label>
						<config>
							<type>select</type>
			                <items type="array">
			                  <numIndex index="0" type="array">
			                    <numIndex index="0">LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.filter.confid.default</numIndex>
			                    <numIndex index="1">default</numIndex>
			                  </numIndex>
			                  <numIndex index="10" type="array">
			                    <numIndex index="0">LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.filter.confid.dismax</numIndex>
			                    <numIndex index="1">dismax</numIndex>
			                  </numIndex>
			                </items>
							<multiple>0</multiple>
							<minitems>1</minitems>
							<maxitems>1</maxitems>
							<size>1</size>
						</config>
					</TCEforms>
				</searchsolr.filter.confid>
				<searchsolr.requestHandler>
					<TCEforms>
						<exclude>1</exclude>
						<label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.requestHandler</label>
						<config>
							<type>input</type>
							<size>50</size>
							<max>256</max>
							<eval>trim</eval>
						</config>
					</TCEforms>
				</searchsolr.requestHandler>
				<searchsolr.filter>
					<TCEforms>
						<exclude>1</exclude>
						<label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.filterClass</label>
						<config>
							<type>input</type>
							<size>50</size>
							<max>256</max>
							<eval>trim</eval>
							<default>tx_mksearch_filter_SolrBase</default>
						</config>
					</TCEforms>
				</searchsolr.filter>
				<searchsolr.mainmarkerclass>
					<TCEforms>
						<exclude>1</exclude>
						<label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.mainmarkerclass</label>
						<config>
							<type>input</type>
							<size>50</size>
							<max>256</max>
							<eval>trim</eval>
							<default>tx_mksearch_marker_Search</default>
						</config>
					</TCEforms>
				</searchsolr.mainmarkerclass>
				<searchsolr.mainsubpart>
					<TCEforms>
						<exclude>1</exclude>
						<label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.mainsubpart</label>
						<config>
							<type>input</type>
							<size>50</size>
							<max>256</max>
							<eval>trim</eval>
							<default>###SEARCH###</default>
						</config>
					</TCEforms>
				</searchsolr.mainsubpart>
				<searchsolrTemplate>
					<TCEforms>
						<exclude>1</exclude>
						<label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.template</label>
						<config>
							<type>input</type>
							<size>50</size>
							<max>256</max>
							<eval>trim</eval>
							<wizards type="array">
								<_PADDING>2</_PADDING>
								<link type="array">
									<type>popup</type>
									<title>Link</title>
									<icon>link_popup.gif</icon>
									<script>browse_links.php?mode=wizard&amp;act=file</script>
									<params type="array">
										<blindLinkOptions>page,url,mail,spec</blindLinkOptions>
										<allowedExtensions>htm,html</allowedExtensions>
									</params>
									<JSopenParams>height=300,width=500,status=0,menubar=0,scrollbars=1</JSopenParams>
								</link>
							</wizards>
						</config>
					</TCEforms>
				</searchsolrTemplate>
				<!-- TODO: eigene Indexauswahl mit für Solr konfigurierte Indizes -->
			</el>
		</ROOT>
	</s_searchsolr>

    <s_softlink>
			<ROOT>
				<TCEforms>
					<sheetTitle>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.tab.softlink</sheetTitle>
				</TCEforms>
				<type>array</type>
				<el>
          <softlink.enable>
            <TCEforms>
              <label>LLL:EXT:mksearch/locallang_db.xml:plugin_common_enable</label>
              <config>
                <type>check</type>
              </config>
            </TCEforms>
          </softlink.enable>
          <softlink.options.pidlist>
            <TCEforms>
              <exclude>1</exclude>
              <label>LLL:EXT:lang/locallang_general.php:LGL.startingpoint</label>
              <config>
                <type>group</type>
                <internal_type>db</internal_type>
                <allowed>pages</allowed>
                <size>3</size>
                <maxitems>22</maxitems>
                <minitems>0</minitems>
                <show_thumbs>1</show_thumbs>
              </config>
            </TCEforms>
          </softlink.options.pidlist>
          <softlink.options.recursive>
            <TCEforms>
              <label>LLL:EXT:lang/locallang_general.php:LGL.recursive</label>
              <config>
                <type>select</type>
                <items type="array">
                  <numIndex index="0" type="array">
                    <numIndex index="0"></numIndex>
                    <numIndex index="1"></numIndex>
                  </numIndex>
                  <numIndex index="1" type="array">
                    <numIndex index="0">LLL:EXT:cms/locallang_ttc.php:recursive.I.1</numIndex>
                    <numIndex index="1">1</numIndex>
                  </numIndex>
                  <numIndex index="2" type="array">
                    <numIndex index="0">LLL:EXT:cms/locallang_ttc.php:recursive.I.2</numIndex>
                    <numIndex index="1">2</numIndex>
                  </numIndex>
                  <numIndex index="3" type="array">
                    <numIndex index="0">LLL:EXT:cms/locallang_ttc.php:recursive.I.3</numIndex>
                    <numIndex index="1">3</numIndex>
                  </numIndex>
                  <numIndex index="4" type="array">
                    <numIndex index="0">LLL:EXT:cms/locallang_ttc.php:recursive.I.4</numIndex>
                    <numIndex index="1">4</numIndex>
                  </numIndex>
                  <numIndex index="5" type="array">
                    <numIndex index="0">LLL:EXT:cms/locallang_ttc.php:recursive.I.5</numIndex>
                    <numIndex index="1">250</numIndex>
                    </numIndex>
                 </items>
                 <minitems>0</minitems>
                 <maxitems>1</maxitems>
                 <size>1</size>
              </config>
            </TCEforms>
          </softlink.options.recursive>
				</el>
			</ROOT>
		</s_softlink>

    <s_tssetup>
			<ROOT>
				<TCEforms>
					<sheetTitle>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.tab.tssetup</sheetTitle>
				</TCEforms>
				<type>array</type>
				<el>
					<flexformTS>
						<TCEforms>
							<exclude>1</exclude>
							<label>LLL:EXT:mksearch/locallang_db.xml:plugin.mksearch.flexform.tssetup</label>
							<config>
								<type>text</type>
								<cols>80</cols>
								<rows>10</rows>
								<default># Default index to be used
usedIndex = default

# Example: Use a given index with german content on URL parameter L=1
# BEWARE: As conditions are not allowed within blocks
# you need to source out the following code to a separate TS template!
# [globalVar = GP:L = 1]
# plugin.tx_mksearch.usedIndex = german
# [global]
					
# Define the link targets of every content type. Example for core.tt_news:
# search.render.core.tt_news.links.show.pid = [page id]
								</default>
							</config>
						</TCEforms>
					</flexformTS>
				</el>
			</ROOT>
		</s_tssetup>
  </sheets>
</T3DataStructure>